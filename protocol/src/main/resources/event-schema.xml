<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sbe:messageSchema xmlns:sbe="http://www.fixprotocol.org/ns/simple/RC3"
	package="org.camunda.tngp.protocol.event" id="4" version="1"
	semanticVersion="0.1.0" description="Tngp Event Client Protocol" byteOrder="littleEndian">

	<types>
		<composite name="messageHeader"
			description="Message identifiers and length of message root">
			<type name="blockLength" primitiveType="uint16" />
			<type name="templateId" primitiveType="uint16" />
			<type name="schemaId" primitiveType="uint16" />
			<type name="version" primitiveType="uint16" />
			<type name="resourceId" primitiveType="uint16" />
			<type name="shardId" primitiveType="uint16" />
		</composite>
		<composite name="varDataEncoding">
			<type name="length" primitiveType="uint16" />
			<type name="varData" primitiveType="uint8" length="0"
				characterEncoding="UTF-8" />
		</composite>
		<composite name="groupSizeEncoding" description="Repeating group dimensions">
			<type name="blockLength" primitiveType="uint16" />
			<type name="numInGroup" primitiveType="uint8" semanticType="NumInGroup" />
		</composite>
	</types>
  
  <sbe:message name="PollEvents" id="0"
    description="Poll a number of events">
    <field name="startPosition" id="1" type="uint64" />
    <field name="maxEvents" id="2" type="uint16" />
    <field  name="topicId" id="3" type="uint16" />
  </sbe:message>
  
  <sbe:message name="EventBatch" id="100"
    description="A batch of events">
    <group name="events" id="1" dimensionType="groupSizeEncoding">
      <field name="position" id="2" type="uint64" />
      <data  name="event" id="3" type="varDataEncoding" />
    </group>
  </sbe:message>

</sbe:messageSchema>